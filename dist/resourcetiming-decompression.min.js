!function(e){"use strict";var t,r;"undefined"!=typeof e&&(t=e,r=t.ResourceTimingDecompression);var o={};o.noConflict=function(){return t.ResourceTimingDecompression=r,o},o.INITIATOR_TYPES={other:0,img:1,link:2,script:3,css:4,xmlhttprequest:5,html:6},o.decompressResources=function(e,t){var r=[];t=t||"";for(var o in e)if(e.hasOwnProperty(o)){var s=e[o],n=t+o;if(-1!==n.indexOf("|",n.length-1)&&(n=n.substring(0,n.length-1)),"string"==typeof s)for(var i=s.split("|"),d=0;d<i.length;d++){var c=i[d];c.length>0&&"*"===c[0]||r.push(this.decodeCompressedResource(c,n))}else{var p=this.decompressResources(s,n);r=r.concat(p)}}return r},o.getInitiatorTypeFromIndex=function(e){for(var t in this.INITIATOR_TYPES)if(this.INITIATOR_TYPES[t]===e)return t;return"other"},o.decodeCompressedResource=function(e,t){if(!e||!t)return{};for(var r=parseInt(e[0],10),o=e.length>1?e.substring(1).split(","):[],s=0;s<o.length;s++)o[s]=""===o[s]?0:parseInt(o[s],36);var n=o.length>=1?o[0]:0,i=o.length<10?n:this.decodeCompressedResourceTimeStamp(o,9,n),d={name:t,initiatorType:this.getInitiatorTypeFromIndex(r),startTime:n,redirectStart:this.decodeCompressedResourceTimeStamp(o,9,n)>0?n:0,redirectEnd:this.decodeCompressedResourceTimeStamp(o,9,n),fetchStart:i,domainLookupStart:this.decodeCompressedResourceTimeStamp(o,8,n),domainLookupEnd:this.decodeCompressedResourceTimeStamp(o,7,n),connectStart:this.decodeCompressedResourceTimeStamp(o,6,n),secureConnectionStart:this.decodeCompressedResourceTimeStamp(o,5,n),connectEnd:this.decodeCompressedResourceTimeStamp(o,4,n),requestStart:this.decodeCompressedResourceTimeStamp(o,3,n),responseStart:this.decodeCompressedResourceTimeStamp(o,2,n),responseEnd:this.decodeCompressedResourceTimeStamp(o,1,n)};return d.duration=d.responseEnd>0?d.responseEnd-d.startTime:0,d},o.decodeCompressedResourceTimeStamp=function(e,t,r){return e&&e.length>=t+1&&0!==e[t]?e[t]+r:0},o.decompressSize=function(e,t){var r,o;for("undefined"==typeof t&&(t={}),r=e.split(","),o=0;o<r.length;o++)"_"===r[o]?r[o]=0:(""===r[o]&&(r[o]=0),r[o]=parseInt(r[o],36),o>0&&(r[o]+=r[0]));return 1===r.length&&r.push(r[0]),2===r.length&&r.push(r[0]),t.encodedBodySize=r[0],t.transferSize=r[1],t.decodedBodySize=r[2],t},"function"==typeof define&&define.amd?define([],function(){return o}):"undefined"!=typeof module&&module.exports?module.exports=o:"undefined"!=typeof t&&(t.ResourceTimingDecompression=o)}("undefined"!=typeof window?window:void 0);